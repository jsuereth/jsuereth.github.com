(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1261:(e,r,t)=>{Promise.resolve().then(t.bind(t,5771))},5771:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var s=t(5155),n=t(2115);function i(e,r){let t=[];for(let s=0;s<e.length;s+=r)t.push(e.slice(s,s+r));return t}let o=["Eight","Sven","Too","Nein"],l=["That's not a connection. Try again!","Incorrect guess. Keep going!","No match found for those words.","Those words don't form a category.","no.","Hmm no, maybe use your brain this time!","Keep calm and connect on! That wasn't it."],d=["Incorrect passcode. Please try again.","Invalid code.","Passcode rejected.","That's not the right combination.","Access denied: Incorrect code.","Access failed! Maybe the ghost changed the numbers?","Ghost Cora denies your entry. Try again!","Try again, there's 10,000 possible combinations!"],a=["Please enter all four digits of the passcode.","Passcode incomplete. You need four digits.","Four digits babe."];function c(e){let r=Math.floor(Math.random()*e.length);return e[r]}var u=function(e){return e[e.Unused=0]="Unused",e[e.Easy=1]="Easy",e[e.Medium=2]="Medium",e[e.Hard=3]="Hard",e[e.Purple=4]="Purple",e}({});class h{toString(){return"["+this.words.map(e=>e.toString()).join(", ")+"]"}constructor(e,r,t){this.name=e,this.difficulty=r,this.words=t}}class f{currentError(){return this.errorMessage}rawWordOrder(){return this.groups.flatMap(e=>e.words).sort((e,r)=>e.localeCompare(r))}currentWordOrder(){let e=this.rawWordOrder();return this.order.map(r=>e[r])}clearedGroups(){return this.groups.filter(e=>this.cleared.find(r=>r==e.difficulty)).sort((e,r)=>e.difficulty-r.difficulty)}wordColumns(){let e=i(this.order,4);return i(this.currentWordOrder(),4).map((r,t)=>({id:e[t].join(""),words:r}))}toString(){return"["+this.currentWordOrder().map(e=>e).join(", ")+"]"}numSelected(){return this.selected.length}isSelected(e){return void 0!=this.selected.find(r=>r==e)}isImportant(e){return void 0!=o.find(r=>r==e)}isWon(){return this.cleared.length>=4}selectWord(e){let r=this.selected.filter(r=>r!==e);return r.length!=this.selected.length?new f(this.groups,this.order,r,this.cleared,""):this.selected.length>=4?this:new f(this.groups,this.order,[...this.selected,e],this.cleared,"")}clear(){return new f(this.groups,this.order,[],this.cleared,"")}shuffle(){return new f(this.groups,function(e){let r,t=e.length;for(;0!==t;)r=Math.floor(Math.random()*t),t--,[e[t],e[r]]=[e[r],e[t]];return e}(this.order),this.selected,this.cleared,"")}submit(){if(this.selected.length<4)return new f(this.groups,this.order,this.selected,this.cleared,"Please select four words");let e=this.groups.find(e=>e.words.filter(e=>this.selected.find(r=>e==r)).length>=4);if(void 0==e)return new f(this.groups,this.order,this.selected,this.cleared,c(l));{let r=this.rawWordOrder(),t=this.order.filter(t=>!e.words.find(e=>e===r[t]));return new f(this.groups,t,[],[...this.cleared,e.difficulty],"")}}constructor(e,r,t,s,n){this.groups=e,this.order=r,this.selected=t,this.cleared=s,this.errorMessage=n}}let g=()=>new f([new h("Reindeers",3,["Cupid","Comet","Sven","Clarice"]),new h("Ways of saying 'no'",1,["Nein","Nej","Non","Nie"]),new h("Rhymes",2,["Eight","Skate","Bait","Straight"]),new h("Words with double adjacent letters",4,["Too","Debby","Moon","Arrow"])],Array.from({length:16},(e,r)=>r),[],[],""),m=(e,r)=>{switch(r.id){case"reset":return e.clear();case"shuffle":return e.shuffle();case"select-word":return console.log("Handling select word, with previous state: "+e.toString(),e),e.selectWord(r.word);case"submit":return e.submit();default:return e}};function p(e){let{word:r,state:t,dispatch:n}=e,i="border cursor-pointer p-2 m-1 text-center";return t.isSelected(r)?i+=" bg-sky-500 border-sky-300 dark:border-sky-700 hover:bg-sky-700":i+=" bg-black border-gray-300 dark:border-gray-700 hover:bg-gray-700",(0,s.jsx)("td",{className:i,onClick:function(){n({id:"select-word",word:r})},children:r})}function x(e){let{group:r,state:t}=e,n="cleared-group rounded-md items-center grid grid-cols-1";switch(r.difficulty){case u.Easy:n+=" cleared-easy";break;case u.Medium:n+=" cleared-medium";break;case u.Hard:n+=" cleared-hard";break;case u.Purple:n+=" cleared-purple"}return(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("span",{className:"cleared-group-name text-center text-2xl m-1 w-100",children:r.name}),(0,s.jsx)("div",{className:"grid grid-cols-4",children:r.words.sort((e,r)=>e.localeCompare(r)).map(e=>{let r="m-1";return t.isWon()&&t.isImportant(e)&&(r+="  font-extrabold clue"),(0,s.jsx)("span",{className:r,children:e},"solution"+e)})})]},"solution-"+r.name)}function b(e){let{state:r,dispatch:t}=e,n=(0,s.jsx)("div",{});return""!=r.currentError()&&(n=(0,s.jsx)("div",{className:"error-message",children:r.currentError()})),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("table",{className:"border-separate border-spacing-2 border border-gray-400 dark:border-gray-500 w-full",children:(0,s.jsx)("tbody",{children:r.wordColumns().map(e=>(0,s.jsx)("tr",{children:e.words.map(e=>(0,s.jsx)(p,{word:e,state:r,dispatch:t},e))},e.id))})}),(0,s.jsxs)("div",{className:"grid grid-cols-3",children:[(0,s.jsx)("button",{className:"btn bg-sky-500 hover:bg-sky-700 rounded-2xl p-2",onClick:()=>{t({id:"shuffle"})},children:"Shuffle"}),(0,s.jsx)("button",{className:"btn bg-sky-500 hover:bg-sky-700 rounded-2xl p-2",onClick:()=>{t({id:"reset"})},children:"Clear"}),(0,s.jsx)("button",{className:"btn bg-sky-500 hover:bg-sky-700 rounded-2xl p-2",onClick:()=>{t({id:"submit"})},children:"Submit"})]}),n]})}function w(e){let{setCorrectCode:r}=e,[t,i]=(0,n.useState)(["","","",""]),[o,l]=(0,n.useState)(""),u=[(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useRef)(null)],h=(e,r)=>{let s=e.target.value;if(!(s.length>1)&&(""===s||/^\d$/.test(s))){let e=[...t];if(e[r]=s,i(e),l(""),""!==s&&r<3){var n;null==(n=u[r+1].current)||n.focus()}}},f=(e,r)=>{if("Backspace"===e.key&&""===t[r]&&r>0){var s;null==(s=u[r-1].current)||s.focus();let e=[...t];e[r-1]="",i(e),l("")}},g=()=>t.join(""),m=(0,s.jsx)("div",{});return""!=o&&(m=(0,s.jsx)("div",{className:"error-message",children:o})),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"text-2xl text-center",children:"Please enter the code:"}),(0,s.jsxs)("div",{className:"flex flow-row items-center",children:[(0,s.jsx)("div",{className:"flex-auto"}),t.map((e,r)=>(0,s.jsx)("input",{type:"text",maxLength:1,value:e,className:"flex-none code-input",onChange:e=>h(e,r),onKeyDown:e=>f(e,r),ref:u[r]},r)),(0,s.jsx)("button",{onClick:()=>{let e=g();4===e.length?"9872"===e?r(!0):l(c(d)):l(c(a))},className:"flex-none btn bg-sky-500 hover:bg-sky-700 rounded-2xl p-2",children:"Send Code"}),(0,s.jsx)("div",{className:"flex-auto"})]}),m]})}function y(){let e,[r,t]=(0,n.useReducer)(m,g()),[i,o]=(0,n.useState)(!1);if(i)e=(0,s.jsx)("span",{className:"secret-message text-9xl font-extrabold text-shadow-2xl text-shadow-blue-500/50",children:"Your Secret Message Here"});else{let n;n=r.isWon()?(0,s.jsx)(w,{setCorrectCode:o}):(0,s.jsx)(b,{state:r,dispatch:t}),e=(0,s.jsxs)("div",{className:"flex flex-col items-center p-7 w-full",children:[(0,s.jsx)("span",{className:"w-full text-4xl text-center items-center",children:"Connections"}),r.clearedGroups().map(e=>(0,s.jsx)(x,{group:e,state:r},e.difficulty)),n]})}return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(1261)),_N_E=e.O()}]);